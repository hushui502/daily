#本配置文件仅适用于未启用TLS的fabric网络
name: "example"

version: 1.0.0

client:
  organization: org1
  logging:
    level: info
  #指定crypto-config文件夹所在路径，路径为相对于项目根目录路径
  cryptoconfig:
    path: ./tls-off/fixtures/crypto-config-chat


channels:
  mychannel:
#    orderers:
#      - orderer.fabric.com.mingbyte.com
    peers:
      #根据实际情况填写组织中的节点名，节点默认的属性全为true.因此可以只写一个节点名
      #节点名适用于entity matchers，该部分的节点名需要与organizations.peers列表相对应，否则报错
      peer0.org1.fabric.com.mingbyte.com:
#        endorsingPeer: true
#        chaincodeQuery: true
#        ledgerQuery: true
#        eventSource: true




organizations:
  #组织名可以任取，但需要和SDK中指定的组织名相对应，在fabsdk.WithOrg()中用到
  org1:
    #mspID需要和fabric网络中定义的mspID相对应
    mspid: Org1MSP
    #配置组织的msp
    #证书路径为相对于crypto-config文件夹的路径（定义在client.crtptoconfig）
    cryptoPath: peerOrganizations/org1.fabric.com.mingbyte.com/users/{userName}@org1.fabric.com.mingbyte.com/msp
    #列出该组织下的所有节点
    peers:
      - peer0.org1.fabric.com.mingbyte.com
#   如果未启用CA，可将下部分内容注释掉
    certificateAuthorities:
      - ca.org1.fabric.com.mingbyte.com


orderers:
  #列出排序节点的名字，
  #排序节点的名字,该名字要去网络中的节点名字相同，不适用entity matchers
  orderer.fabric.com.mingbyte.com:
    grpcOptions:
#      allow-insecure=ture 使用gprc ；allow-insecure=false 使用gprcs
#      本配置文件适用于未启用TLS的情况，因此allow-insecure=ture
      allow-insecure: true

peers:
#  该部分peer节点的名字不能通过entity matchers替换，要与网络中的节点名相对应
# 列出网络中的peer节点，可以只写一个
  peer0.org1.fabric.com.mingbyte.com:
    grpcOptions:
#      allow-insecure=ture 使用gprc ；allow-insecure=false 使用gprcs
#      本配置文件适用于未启用TLS的情况，因此allow-insecure=ture
      allow-insecure: true


#   如果未启用CA，可将下部分内容注释掉
certificateAuthorities:
  ca.org1.fabric.com.mingbyte.com:
    tlsCACerts:
#   指定tlsCACerts文件夹所在路径，路径为相对于项目根目录路径
      path: ./tls-off/fixtures/crypto-config-chat/peerOrganizations/org1.fabric.com.mingbyte.com/ca/ca.org1.fabric.com.mingbyte.com-cert.pem


entityMatchers:
  #  指定peer的IP地址和端口号
  peer:
    - pattern: (\w*)peer0.org1.fabric.com.mingbyte.com(\w*)
      urlSubstitutionExp: 192.168.8.58:7051
      eventUrlSubstitutionExp: 192.168.8.58:7053
      sslTargetOverrideUrlSubstitutionExp: peer0.org1.fabric.com.mingbyte.com
      mappedHost: peer0.org1.fabric.com.mingbyte.com

  orderer:
    - pattern: (\w*)orderer.(\w*)
      urlSubstitutionExp: 192.168.8.58:7050
      sslTargetOverrideUrlSubstitutionExp: orderer.fabric.com.mingbyte.com
      mappedHost: orderer.fabric.com.mingbyte.com

  certificateAuthorities:
    - pattern: (\w*)ca.org1.fabric.com.mingbyte.com(\w*)
      urlSubstitutionExp: http://192.168.8.58:7054
      mappedHost: ca.org1.fabric.com.mingbyte.com

